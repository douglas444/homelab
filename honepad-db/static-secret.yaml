apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: vso-honepad-db-root-password
  namespace: honepad
spec:
  type: kv-v2
  mount: kv
  path: secret/kubernetes/honepad/db/root
  destination:
    name: honepad-db-root-password
    create: true
    type: Opaque
    transformation:
      excludeRaw: true
      excludes:
        - .*
      templates:
        "root-password":
          text: >-
            {{ .Secrets.password }}
  refreshAfter: 30s
  vaultAuthRef: static-auth
